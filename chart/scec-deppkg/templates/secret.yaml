---
apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: arangodb
data:
  {{ $dbpass := .Values.dbpass | default "" }}
  {{ $dbuser := .Values.dbuser | default "root" }}
  {{ $dbhost := .Values.dbhost | default "localhost" }}
  {{ $dbport := .Values.dbport | default "8529" }}
  {{ $dbname := .Values.dbname | default "ortelius" }}
  DBPassword: {{ $dbpass | b64enc }}
  DBUserName: {{ $dbuser | b64enc }}
  {{ if (((.Values.global).arangodb).enabled) }}
  DBHost:  {{ printf "ms-arangodb.%s.svc.cluster.local" .Release.Namespace | b64enc  }}
  {{ else }}
  DBHost: {{ $dbhost | b64enc }}
  {{ end }}
  DBPort: {{ $dbport | b64enc }}
  DBName: {{ $dbname | b64enc }}
